<?php
/**
 * Конфигурация Telegram бота для мониторинга сервера
 * 
 * Инструкция по настройке:
 * 1. Создайте бота через @BotFather в Telegram
 * 2. Получите токен бота
 * 3. Получите свой chat_id через @userinfobot или @getmyid_bot
 * 4. Заполните данные ниже
 */

// ========================
// НАСТРОЙКИ TELEGRAM
// ========================

// Токен бота (получить у @BotFather)
define('TELEGRAM_BOT_TOKEN', 'YOUR_BOT_TOKEN_HERE');

// Chat ID для отправки уведомлений (можно узнать у @userinfobot)
// Можно указать несколько через запятую: '123456789,987654321'
define('TELEGRAM_CHAT_IDS', 'YOUR_CHAT_ID_HERE');

// ========================
// НАСТРОЙКИ МОНИТОРИНГА
// ========================

// URL для проверки (ваш сайт/панель)
// Можно указать несколько URL через запятую
define('MONITOR_URLS', 'https://your-domain.com,https://your-domain.com/dashboard.php');

// Таймаут запроса в секундах
define('REQUEST_TIMEOUT', 30);

// Допустимые HTTP коды (через запятую)
// 200 - OK, 301/302 - редирект, 401 - авторизация требуется (но сервер работает)
define('ALLOWED_HTTP_CODES', '200,301,302,401,403');

// Интервал между проверками в секундах (для режима демона)
define('CHECK_INTERVAL', 60);

// Количество последовательных ошибок до отправки уведомления
// (чтобы не спамить при кратковременных проблемах)
define('ERROR_THRESHOLD', 2);

// Файл для хранения состояния
define('STATE_FILE', __DIR__ . '/monitor_state.json');

// Файл лога
define('LOG_FILE', __DIR__ . '/monitor.log');

// Максимальный размер лога в байтах (5 MB)
define('MAX_LOG_SIZE', 5 * 1024 * 1024);

// ========================
// ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ
// ========================

// Отправлять уведомление когда сервер восстановился
define('NOTIFY_ON_RECOVERY', true);

// Включить подробное логирование
define('DEBUG_MODE', false);

// Часовой пояс для логов
date_default_timezone_set('Europe/Moscow');