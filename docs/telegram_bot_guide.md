# ü§ñ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram –±–æ—Ç–∞ –¥–ª—è CloudPanel

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ –≤ Telegram](#—Å–æ–∑–¥–∞–Ω–∏–µ-–±–æ—Ç–∞-–≤-telegram)
3. [–ü–æ–ª—É—á–µ–Ω–∏–µ Chat ID](#–ø–æ–ª—É—á–µ–Ω–∏–µ-chat-id)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
5. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–±–æ—Ç–∞)
6. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞)
7. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
8. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-–µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π)
9. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## –í–≤–µ–¥–µ–Ω–∏–µ

Telegram –±–æ—Ç –¥–ª—è CloudPanel –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- üî¥ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞
- üü¢ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏** ‚Äî –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä —Å–Ω–æ–≤–∞ –æ–Ω–ª–∞–π–Ω
- üìä **–û—Ç—á—ë—Ç—ã –ø–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏** ‚Äî –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç—á—ë—Ç—ã –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –¥–æ–º–µ–Ω–æ–≤
- üÜï **–ù–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–∞—Ö –∏–∑ Cloudflare
- üîÑ **–ò–∑–º–µ–Ω–µ–Ω–∏—è IP** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ IP –∞–¥—Ä–µ—Å–æ–≤

---

## –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ –≤ Telegram

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ @BotFather

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –í –ø–æ–∏—Å–∫–µ –Ω–∞–π–¥–∏—Ç–µ `@BotFather`
3. –ù–∞–∂–º–∏—Ç–µ **Start** –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`

![BotFather](https://core.telegram.org/file/811140763/1/PihKNbjT8UE/03b57814e13713da37)

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```
/newbot
```

### –®–∞–≥ 3: –í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞

BotFather —Å–ø—Ä–æ—Å–∏—Ç –∏–º—è –±–æ—Ç–∞ (–æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è). –í–≤–µ–¥–∏—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä:
```
CloudPanel Monitor
```

### –®–∞–≥ 4: –í–≤–µ–¥–∏—Ç–µ username –±–æ—Ç–∞

Username –¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `bot`. –í–≤–µ–¥–∏—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π username:
```
my_cloudpanel_bot
```

–∏–ª–∏

```
cloudpanel_monitor_bot
```

### –®–∞–≥ 5: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω

BotFather –ø—Ä–∏—à–ª—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ç–æ–∫–µ–Ω–æ–º:

```
Done! Congratulations on your new bot. You will find it at t.me/my_cloudpanel_bot.
Use this token to access the HTTP API:
7123456789:AAHxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω! –û–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

---

## –ü–æ–ª—É—á–µ–Ω–∏–µ Chat ID

Chat ID –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –±–æ—Ç –∑–Ω–∞–ª, –∫–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è.

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ @userinfobot (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ù–∞–π–¥–∏—Ç–µ –≤ Telegram –±–æ—Ç–∞ `@userinfobot`
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –µ–º—É `/start`
3. –ë–æ—Ç –æ—Ç–≤–µ—Ç–∏—Ç –≤–∞—à–∏–º Chat ID:

```
@your_username
Id: 123456789
```

–í–∞—à Chat ID: `123456789`

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ @getmyid_bot

1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ `@getmyid_bot`
2. –ù–∞–∂–º–∏—Ç–µ Start
3. –ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –≤–∞—à Chat ID

### –°–ø–æ—Å–æ–± 3: –î–ª—è –≥—Ä—É–ø–ø—ã

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—É:

1. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É –≤ Telegram
2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É
3. –î–∞–π—Ç–µ –±–æ—Ç—É –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É
5. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
https://api.telegram.org/bot<–í–ê–®_–¢–û–ö–ï–ù>/getUpdates
```

6. –ù–∞–π–¥–∏—Ç–µ –≤ –æ—Ç–≤–µ—Ç–µ `"chat":{"id":-1001234567890}` ‚Äî —ç—Ç–æ Chat ID –≥—Ä—É–ø–ø—ã

‚ö†Ô∏è **–î–ª—è –≥—Ä—É–ø–ø—ã Chat ID –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `-100`!**

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
nano telegram_bot/config.php
```

### –®–∞–≥ 2: –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```php
<?php
/**
 * –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Telegram –±–æ—Ç–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
 */

// === –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò ===

// –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
define('TELEGRAM_BOT_TOKEN', '7123456789:AAHxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx');

// Chat ID –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö)
define('TELEGRAM_CHAT_IDS', '123456789');

// URL –≤–∞—à–µ–π –ø–∞–Ω–µ–ª–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö)
define('MONITOR_URLS', 'https://your-domain.com,https://your-domain.com/dashboard.php');


// === –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò ===

// –¢–∞–π–º–∞—É—Ç HTTP –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
define('REQUEST_TIMEOUT', 30);

// –î–æ–ø—É—Å—Ç–∏–º—ã–µ HTTP –∫–æ–¥—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
// 200 - OK, 301/302 - —Ä–µ–¥–∏—Ä–µ–∫—Ç, 401/403 - —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
define('ALLOWED_HTTP_CODES', '200,301,302,401,403');

// –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–¥–ª—è daemon —Ä–µ–∂–∏–º–∞)
define('CHECK_INTERVAL', 60);

// –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
// (–∑–∞—â–∏—Ç–∞ –æ—Ç –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π)
define('ERROR_THRESHOLD', 2);

// –£–≤–µ–¥–æ–º–ª—è—Ç—å –æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã
define('NOTIFY_ON_RECOVERY', true);

// –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (–ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
define('DEBUG_MODE', false);
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|--------|
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω –æ—Ç @BotFather | `7123456789:AAHxxx` |
| `TELEGRAM_CHAT_IDS` | Chat ID –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π | `123456789,-1001234567890` |
| `MONITOR_URLS` | URL –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ | `https://site.com` |
| `REQUEST_TIMEOUT` | –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ (—Å–µ–∫) | `30` |
| `ALLOWED_HTTP_CODES` | –î–æ–ø—É—Å—Ç–∏–º—ã–µ HTTP –∫–æ–¥—ã | `200,301,302,401,403` |
| `CHECK_INTERVAL` | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å–µ–∫) | `60` |
| `ERROR_THRESHOLD` | –û—à–∏–±–æ–∫ –¥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | `2` |
| `NOTIFY_ON_RECOVERY` | –£–≤–µ–¥–æ–º–ª—è—Ç—å –æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ | `true` |
| `DEBUG_MODE` | –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ | `false` |

### –î–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π

```php
// –õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è + –≥—Ä—É–ø–ø–∞
define('TELEGRAM_CHAT_IDS', '123456789,987654321,-1001234567890');
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

### –®–∞–≥ 1: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å –±–æ—Ç–æ–º

```bash
cd /path/to/cloudpanel/telegram_bot
```

### –®–∞–≥ 2: –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

```bash
php monitor.php --test
```

–ï—Å–ª–∏ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
- –í –∫–æ–Ω—Å–æ–ª–∏: `‚úÖ Test message sent successfully`
- –í Telegram: `üß™ –¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...`

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
php monitor.php
```

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤—Å–µ URL –∏–∑ `MONITOR_URLS` –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö.

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π URL

```bash
php monitor.php --url=https://google.com
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: Cron (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

Cron –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ crontab
crontab -e

# –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
* * * * * /usr/bin/php /–ø–æ–ª–Ω—ã–π/–ø—É—Ç—å/–∫/telegram_bot/monitor.php >> /var/log/cloudpanel_monitor.log 2>&1
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Systemd (–¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/systemd/system/cloudpanel-monitor.service`:

```ini
[Unit]
Description=CloudPanel Server Monitor
After=network.target

[Service]
Type=simple
User=www-data
WorkingDirectory=/path/to/cloudpanel/telegram_bot
ExecStart=/usr/bin/php monitor.php --daemon
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
sudo systemctl daemon-reload
sudo systemctl enable cloudpanel-monitor
sudo systemctl start cloudpanel-monitor
sudo systemctl status cloudpanel-monitor
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Windows (–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á)

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞–Ω–∏–π** (Task Scheduler)
2. **–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É** (Create Task)
3. **–¢—Ä–∏–≥–≥–µ—Ä**: –ü–æ–≤—Ç–æ—Ä—è—Ç—å –∫–∞–∂–¥—ã–µ 1 –º–∏–Ω—É—Ç—É
4. **–î–µ–π—Å—Ç–≤–∏–µ**: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É
   - –ü—Ä–æ–≥—Ä–∞–º–º–∞: `C:\php\php.exe`
   - –ê—Ä–≥—É–º–µ–Ω—Ç—ã: `"C:\path\to\telegram_bot\monitor.php"`

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

#### üî¥ –ü—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞

```
üî¥ –°–ï–†–í–ï–† –ù–ï–î–û–°–¢–£–ü–ï–ù

üåê URL: https://your-domain.com
‚ùå –û—à–∏–±–∫–∞: HTTP 502 (–æ–∂–∏–¥–∞–ª–æ—Å—å: 200/301/302/401/403)
‚è±Ô∏è –í—Ä–µ–º—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏: 2 –º–∏–Ω
üî¢ –ü–æ–ø—ã—Ç–æ–∫: 2
üìÖ –í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏: 2024-01-15 12:30:45
üñ•Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä: cloudpanel-server
```

#### üü¢ –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏

```
üü¢ –°–ï–†–í–ï–† –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù

üåê URL: https://your-domain.com
‚úÖ –°—Ç–∞—Ç—É—Å: HTTP 200, 245ms
‚è±Ô∏è –ë—ã–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: 5 –º–∏–Ω
üìÖ –í—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è: 2024-01-15 12:35:22
```

#### üìä –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

```
üìã –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Cloudflare

‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ: 150/150
üÜï –ù–æ–≤—ã—Ö –¥–æ–º–µ–Ω–æ–≤: 3
üîÑ IP –æ–±–Ω–æ–≤–ª–µ–Ω–æ: 2
‚ùå –û—à–∏–±–æ–∫: 0
‚è± –í—Ä–µ–º—è: 45.2s

–ù–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã:
‚Ä¢ newsite.com
‚Ä¢ example.org
‚Ä¢ myshop.ru

SSL —Ä–µ–∂–∏–º—ã:
‚Ä¢ Flexible: 25
‚Ä¢ Full: 100
‚Ä¢ Strict: 25

–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:
‚Ä¢ ‚ö†Ô∏è 25 –¥–æ–º–µ–Ω–æ–≤ —Å —Ä–µ–∂–∏–º–æ–º Flexible (–º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ)
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π

Telegram –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π.

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–ï—Å–ª–∏ —Ñ–∞–π–ª `telegram_bot/config.php` –Ω–∞—Å—Ç—Ä–æ–µ–Ω, —Å–∫—Ä–∏–ø—Ç `cron/daily_sync.php` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram
2. –í–∫–ª—é—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—á—ë—Ç –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 3:00 –Ω–æ—á–∏
0 3 * * * /usr/bin/php /path/to/cron/daily_sync.php >> /dev/null 2>&1
```

### –ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –æ—Ç—á—ë—Ç

| –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------|
| ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤ |
| üÜï –ù–æ–≤—ã—Ö –¥–æ–º–µ–Ω–æ–≤ | –î–æ–º–µ–Ω—ã, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –∏–∑ Cloudflare |
| üîÑ IP –æ–±–Ω–æ–≤–ª–µ–Ω–æ | –î–æ–º–µ–Ω—ã —Å –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–º IP |
| ‚ùå –û—à–∏–±–æ–∫ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ |
| ‚è± –í—Ä–µ–º—è | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ |
| SSL —Ä–µ–∂–∏–º—ã | –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ SSL —Ä–µ–∂–∏–º–∞–º |
| ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è | –ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### ‚ùå "–°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è"

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω:**
   ```bash
   curl "https://api.telegram.org/bot<TOKEN>/getMe"
   ```
   –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ.

2. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–µ—Ä–≤—ã–º:**
   - –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram
   - –ù–∞–∂–º–∏—Ç–µ Start –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`

3. **–î–ª—è –≥—Ä—É–ø–ø—ã:** –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∏ –¥–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É.

### ‚ùå "Chat not found"

1. Chat ID —É–∫–∞–∑–∞–Ω –Ω–µ–≤–µ—Ä–Ω–æ
2. –î–ª—è –≥—Ä—É–ø–ø—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ID —Å `-100` –≤ –Ω–∞—á–∞–ª–µ
3. –ë–æ—Ç –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É

### ‚ùå "401 Unauthorized"

–¢–æ–∫–µ–Ω –±–æ—Ç–∞ —É–∫–∞–∑–∞–Ω –Ω–µ–≤–µ—Ä–Ω–æ –∏–ª–∏ –∏—Å—Ç—ë–∫.

### ‚ùå "Connection refused"

1. URL –≤ `MONITOR_URLS` –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
2. –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
3. Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏—Å—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã

### ‚ùå Cron –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ PHP:
   ```bash
   which php
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ cron:
   ```bash
   grep CRON /var/log/syslog
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –¥–ª—è —Ç–µ—Å—Ç–∞:
   ```bash
   php /path/to/telegram_bot/monitor.php
   ```

### üîß –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏

–í–∫–ª—é—á–∏—Ç–µ –≤ `config.php`:
```php
define('DEBUG_MODE', true);
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
php monitor.php
```

–í –ª–æ–≥–µ –±—É–¥–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ.

---

## –§–∞–π–ª—ã –±–æ—Ç–∞

```
telegram_bot/
‚îú‚îÄ‚îÄ config.php          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å!)
‚îú‚îÄ‚îÄ monitor.php         # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ monitor_state.json  # –°–æ—Å—Ç–æ—è–Ω–∏–µ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ monitor.log         # –õ–æ–≥ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îî‚îÄ‚îÄ README.md           # –ö—Ä–∞—Ç–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞** –≤ git –∏–ª–∏ –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
2. **–î–æ–±–∞–≤—å—Ç–µ –≤ `.gitignore`:**
   ```
   telegram_bot/config.php
   telegram_bot/monitor_state.json
   telegram_bot/monitor.log
   ```
3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞:**
   ```bash
   chmod 600 telegram_bot/config.php
   ```

---

## –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π?

```php
define('TELEGRAM_CHAT_IDS', '123456789,987654321,-1001234567890');
```

### –ö–∞–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ URL?

```php
define('MONITOR_URLS', 'https://site1.com,https://site2.com,https://site3.com/api');
```

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏?

–í `config.php`:
```php
define('CHECK_INTERVAL', 120); // –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã
```

–ò–ª–∏ –≤ cron:
```bash
*/5 * * * * ...  # –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
```

### –ö–∞–∫ –≤—ã–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏?

```php
define('NOTIFY_ON_RECOVERY', false);
```

### –ö–∞–∫ —É–≤–µ–ª–∏—á–∏—Ç—å –ø–æ—Ä–æ–≥ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è?

```php
define('ERROR_THRESHOLD', 3); // 3 –æ—à–∏–±–∫–∏ –ø–æ–¥—Ä—è–¥
```

---

**–ì–æ—Ç–æ–≤–æ! –í–∞—à Telegram –±–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ CloudPanel.** üéâ